<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>True/False Math Quiz ‚Äì Calm Learning</title>

<style>
    body { 
        font-family: Arial, sans-serif; 
        background: #f5f5f5;
        padding: 40px;
        text-align: center;
    }

    /* Home button */
    #homeBtn {
        position: absolute;
        top: 20px;
        left: 20px;
        font-size: 50px;
        text-decoration: none;
        cursor: pointer;
    }

    h2 {
        font-size: 40px;
        margin-bottom: 20px;
    }

    /* Visual control panel */
    .controls {
        background: white;
        padding: 25px;
        border-radius: 20px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        max-width: 700px;
        margin: 0 auto 40px;
        font-size: 24px;
    }

    .control-row {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 20px;
        margin: 20px 0;
    }

    .icon-toggle {
        font-size: 50px;
        padding: 10px 20px;
        border-radius: 12px;
        cursor: pointer;
        transition: 0.2s;
        border: 3px solid #ccc;
        background: #fff;
    }

    .icon-toggle.selected {
        border-color: #4caf50;
        background: #eaffea;
        transform: scale(1.15);
    }

    .slider-label {
        font-size: 40px;
    }

    .number-box {
        font-size: 32px;
        width: 100px;
        padding: 6px;
        border-radius: 10px;
        border: 2px solid #ccc;
        text-align: center;
    }

    /* Visual buttons */
    #generateBtn, #printBtn {
        font-size: 70px;
        cursor: pointer;
        margin-top: 20px;
        display: inline-block;
        transition: 0.2s;
    }

    #generateBtn:hover, #printBtn:hover {
        transform: scale(1.15);
    }

    /* Question cards */
    .question {
        font-size: 32px;
        margin: 20px auto;
        padding: 20px;
        background: white;
        border-radius: 15px;
        max-width: 500px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        transition: 0.2s;
    }

    .correct {
        background: #b6f7b0 !important;
    }

    .wrong {
        background: #ffb3b3 !important;
    }

    /* True/False buttons */
    .tf-buttons {
        margin-top: 15px;
        display: flex;
        justify-content: center;
        gap: 40px;
    }

    .true-btn, .false-btn {
        font-size: 40px;
        padding: 15px 35px;
        border: none;
        cursor: pointer;
        border-radius: 12px;
        color: white;
        transition: 0.2s;
    }

    .true-btn { background-color: green; }
    .false-btn { background-color: red; }

    .selected-true, .selected-false {
        transform: scale(1.2);
        box-shadow: 0 0 12px rgba(0,0,0,0.3);
    }

    /* Pop animation */
    .pop {
        transform: scale(1.3);
    }

    /* Score bar */
    #scoreBar {
        font-size: 32px;
        margin-bottom: 30px;
    }

    /* PRINT MODE */
    @media print {
        #homeBtn, .controls, #scoreBar, #generateBtn, #printBtn {
            display: none !important;
        }
        body {
            margin: 40px;
            font-size: 28px;
        }
    }
</style>
</head>
<body>

<a id="homeBtn" href="index.html">üè†</a>

<h2>True / False Quiz</h2>

<div id="scoreBar">Correct: 0 ‚úì | Wrong: 0 ‚úó</div>

<!-- VISUAL CONTROL PANEL -->
<div class="controls">

    <!-- Operations -->
    <div class="control-row">
        <div class="icon-toggle" id="opAdd">‚ûï</div>
        <div class="icon-toggle" id="opSub">‚ûñ</div>
        <div class="icon-toggle" id="opMul">‚úñÔ∏è</div>
        <div class="icon-toggle" id="opDiv">‚ûó</div>
    </div>

    <!-- Allow negatives -->
    <div class="control-row">
        <div class="icon-toggle" id="negToggle">‚ûï/‚ûñ</div>
    </div>

    <!-- Max answer -->
    <div class="control-row">
        <div class="slider-label">üéöÔ∏è</div>
        <input type="range" id="maxAnswer" min="5" max="200" value="50" 
               oninput="maxVal.textContent=this.value">
        <span id="maxVal" style="font-size:32px;">50</span>
    </div>

    <!-- Number of questions -->
    <div class="control-row">
        <div class="slider-label">‚ùì</div>
        <input type="number" id="numQuestions" class="number-box" min="1" max="50" value="5">
    </div>

    <!-- Generate button -->
    <div id="generateBtn" onclick="generateQuestions()">üîÑ</div>
</div>

<div id="questions"></div>

<div id="printBtn" onclick="window.print()">üñ®Ô∏è</div>

<script>
/* Visual toggle logic */
function toggle(btn) {
    btn.classList.toggle("selected");
}

document.getElementById("opAdd").onclick = () => toggle(opAdd);
document.getElementById("opSub").onclick = () => toggle(opSub);
document.getElementById("opMul").onclick = () => toggle(opMul);
document.getElementById("opDiv").onclick = () => toggle(opDiv);
document.getElementById("negToggle").onclick = () => toggle(negToggle);

let correctCount = 0;
let wrongCount = 0;

function updateScore() {
    scoreBar.textContent = `Correct: ${correctCount} ‚úì | Wrong: ${wrongCount} ‚úó`;
}

function generateQuestions() {
    correctCount = 0;
    wrongCount = 0;
    updateScore();

    const ops = [];
    if (opAdd.classList.contains("selected")) ops.push("+");
    if (opSub.classList.contains("selected")) ops.push("-");
    if (opMul.classList.contains("selected")) ops.push("*");
    if (opDiv.classList.contains("selected")) ops.push("/");

    if (ops.length === 0) {
        alert("Choose at least one operation.");
        return;
    }

    const allowNegatives = negToggle.classList.contains("selected");
    const maxAns = parseInt(maxAnswer.value);
    const count = parseInt(numQuestions.value);

    const container = document.getElementById("questions");
    container.innerHTML = "";

    for (let i = 0; i < count; i++) {
        let a, b, op, correctResult, statement, isTrue;

        a = allowNegatives
            ? Math.floor(Math.random() * (maxAns * 2 + 1)) - maxAns
            : Math.floor(Math.random() * maxAns) + 1;

        b = allowNegatives
            ? Math.floor(Math.random() * (maxAns * 2 + 1)) - maxAns
            : Math.floor(Math.random() * maxAns) + 1;

        const isArithmetic = Math.random() < 0.5;

        if (isArithmetic) {
            op = ops[Math.floor(Math.random() * ops.length)];

            switch (op) {
                case "+": correctResult = a + b; break;
                case "-": correctResult = a - b; break;
                case "*": correctResult = a * b; break;
                case "/":
                    b = Math.floor(Math.random() * maxAns) + 1;
                    const intResult = Math.floor(Math.random() * maxAns) + 1;
                    a = b * intResult;
                    correctResult = intResult;
                    break;
            }

            isTrue = Math.random() < 0.5;
            let shownResult = correctResult;

            if (!isTrue) {
                shownResult += Math.random() < 0.5
                    ? Math.floor(Math.random() * 3) + 1
                    : Math.floor(Math.random() * 20) + 5;
            }

            statement = `${a} ${op} ${b} = ${shownResult}`;

        } else {
            const comparisons = [">", "<", "="];
            op = comparisons[Math.floor(Math.random() * comparisons.length)];

            const real =
                a > b ? ">" :
                a < b ? "<" :
                "=";

            isTrue = Math.random() < 0.5;

            let shownOp = isTrue ? real : comparisons.filter(x => x !== real)[0];

            statement = `${a} ${shownOp} ${b}`;
        }

        const div = document.createElement("div");
        div.className = "question";

        div.innerHTML = `
            <div>${statement}</div>

            <div class="tf-buttons">
                <button id="trueBtn${i}" class="true-btn" onclick="selectTF(${i}, true)">V</button>
                <button id="falseBtn${i}" class="false-btn" onclick="selectTF(${i}, false)">X</button>
            </div>

            <input type="hidden" id="answer${i}" data-correct="${isTrue}">
            <input type="hidden" id="user${i}" value="">
        `;

        container.appendChild(div);
    }
}

function selectTF(index, value) {
    const userInput = document.getElementById(`user${index}`);
    const trueBtn = document.getElementById(`trueBtn${index}`);
    const falseBtn = document.getElementById(`falseBtn${index}`);
    const questionDiv = trueBtn.closest(".question");

    userInput.value = value;

    trueBtn.classList.remove("selected-true");
    falseBtn.classList.remove("selected-false");

    if (value === true) {
        trueBtn.classList.add("selected-true");
        trueBtn.classList.add("pop");
        setTimeout(() => trueBtn.classList.remove("pop"), 150);
    } else {
        falseBtn.classList.add("selected-false");
        falseBtn.classList.add("pop");
        setTimeout(() => falseBtn.classList.remove("pop"), 150);
    }

    const correct = document.getElementById(`answer${index}`).dataset.correct === "true";

    if (value === correct) {
        if (!questionDiv.classList.contains("correct")) correctCount++;
        questionDiv.classList.add("correct");
        questionDiv.classList.remove("wrong");
    } else {
        if (!questionDiv.classList.contains("wrong")) wrongCount++;
        questionDiv.classList.add("wrong");
        questionDiv.classList.remove("correct");
    }

    updateScore();
}
</script>

</body>
</html>
